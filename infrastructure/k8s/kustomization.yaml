# infrastructure/k8s/kustomization.yaml
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: orbit

resources:
  - namespace.yaml
  - storageclass.yaml
  - serviceaccount.yaml
  - externalsecret.yaml

  # Stateful services
  - mongodb
  - postgresql
  - redis
  - redpanda
  - minio

  # Infrastructure
  - temporal
  - oauth2-proxy
  - registry
  - buildkit

  # Custom services
  - orbit-www
  # Optional: public documentation site (uncomment to deploy)
  # - orbit-docs
  - repository-service
  - kafka-service
  - plugins-service
  - bifrost
  - build-service
  - temporal-worker
